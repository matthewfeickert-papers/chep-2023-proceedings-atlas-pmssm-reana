\section{Recommendations}\label{sec:recommendations}

In addition to establishing guidelines for the HEP community, providing recommendations of software citation best practices and supported tooling aids in community adoption of new guidelines.
A behavior step that can be implemented is for software projects to clearly document a recommended citation and have this information be easily findable anywhere the software source code or distributions are hosted or documented (e.g. version control repositories, public documentation websites, package indexes, archives).
There has been historical precedent in HEP for tools to provide recommendations for how to cite the software being used by printing it as a runtime banner to standard output, as seen in~\Cref{lst:pythia_banner}.
This method was developed before citation conventions were established more broadly in the scientific computing community, and modern practices would generally avoid interrupting user logs with this information.
It is instead preferable, in addition to having a clearly documented and advertised recommended citation, to provide citation APIs in the software --- both at the language level and at the command line interface if the software supports one.

In addition to having clear citation recommendations, it is beneficial to adopt a standardized citation file format.
A strong choice is the recent Citation File Format~\cite{Druskat_Citation_File_Format_2021} which is serialized as YAML as a \texttt{CITATION.cff}, as seen in~\Cref{lst:cation.cff}.
\texttt{CITATION.cff} files have the benefit of being both human- and machine-readable with a well defined, versioned schema.
Through related tooling \texttt{CITATION.cff} can also be programmatically validated against schemas and converted to other citation formats (e.g., BibTeX, CodeMeta, EndNote, RIS, schema.org, Zenodo, APA).
\texttt{CITATION.cff} also benefits through supported integration with GitHub\footnote{Providing a ``Cite this repository'' button on a repository with a \texttt{CITATION.cff} file.}, Zenodo, and Zotero, allowing for the citation information to be reliably exported to multiple services from a single file (Principle 2).
The integration with Zenodo is significant, as the HEP community is already frequent users of Zenodo for long term archival of source code (Principle 4) and DOI generation for the source code of software releases (Principle 3).
Software projects that adopt the use of \texttt{CITATION.cff} and archive the source code with Zenodo have a clearly defined toolchain provenance for citation information dissemination (Principle 5).
Given this, it is recommended that there is a single source of truth for citation information, such as a \texttt{CITATION.cff} file, that is under version control with the software source code and is used to generate all other metadata or forms of citation information by other services.

% Use lstlisting over minted to preserve "-" spacing and number
% HACK: src/code/pythia_banner.txt has spaces prepended to each line to force centering in the page.
\lstinputlisting[
    basicstyle=\ttfamily\tiny,
    float=tp,
    floatplacement=tbp,
    caption={Sections of an example runtime banner printed to standard output from \texttt{PYTHIA 8.2}~\cite{Sjostrand:2014zea} with citation guidelines --- a historical community norm.},
    captionpos=b,
    label={lst:pythia_banner}
]{src/code/pythia_banner.txt}

% Manually offset the listing number to work with the number of lstlisting
% BUG: minted and listing don't work together
\setcounter{listing}{1}
% https://www.overleaf.com/learn/latex/Code_Highlighting_with_minted#Captions,_labels_and_the_list_of_listings
\begin{listing}
 \inputminted{yaml}{src/code/CITATION.cff}
 \caption{Example of a minimal \texttt{CITATON.cff} file using v1.2.0 of the CFF schema~\cite{Druskat_Citation_File_Format_2021}.}
 \label{lst:cation.cff}
\end{listing}
